\documentclass [14pt]{beamer}

\usepackage{relsize}
\usepackage[absolute,overlay]{textpos} 
\usepackage[colorgrid,texcoord]{eso-pic} 
\usepackage{hyperref}

% Taken from
% http://tex.stackexchange.com/questions/13423/how-to-color-href-links-in-beamer
\definecolor{links}{HTML}{660099}
\hypersetup{colorlinks,linkcolor=,urlcolor=links}

\mode<presentation>
{
%	\usetheme{Boadilla}
%	\usecolortheme{beaver}
  \usetheme{default}
  \usecolortheme{default}
}

\setbeamertemplate{background}[grid][step=5mm]
\setlength{\TPHorizModule}{5mm}
\setlength{\TPVertModule}{5mm}

\title[Turnkey reproducibility]
{Turnkey reproducibility}

\subtitle[G. Oxberry]
{\textbf{Geoffrey M. Oxberry}}

\author[LLNL]{\small{Lawrence Livermore National Laboratory \\
Computational Engineering Division \\
Energy Conversion and Storage}}

\institute[LLNL-PRES-XXXXXX]
{
\footnotesize{This work performed under the auspices of the U.S. Department of Energy by Lawrence Livermore National Laboratory under Contract DE-AC52-07NA27344}.
}

\date[ICERM 2012]
{December 13, 2012}

\begin{document}

% Title slide
\begin{frame}
\titlepage
\end{frame}

% Establish need
\begin{frame}
\frametitle{Reproducing someone's work can be hard}
\begin{itemize}
\item Need to install necessary software (assume open source)
\begin{itemize}
\item Takes time, expertise, patience
\item Could affect system stability
\end{itemize}
\item Could wrap source in a VM
\begin{itemize}
\item Requires lots of storage (usually $\geq 300$ MB)
\item No separation of source code \& environment
\end{itemize}
\item High barrier means \textbf{people don't run the code}
\end{itemize}
\end{frame}

% Establish scope of problem
\begin{frame}
\frametitle{Need to lower barrier to reproducibility}
\begin{itemize}
\item Separate source code and environment
\item Source code: store in Git repo
\item Environment options:
\begin{itemize}
\item Supply separate VM (lots of storage)
\item Use external service (like RunMyCode)
\item Dynamically spawn VM from configuration files
\end{itemize}
\end{itemize}
\end{frame}

% Propose solution
\begin{frame}
\frametitle{Dynamically spawning VMs\\ provides most flexibility}
\begin{itemize}
\item Configuration stored in small text files
\item Reduces storage needed to specify VM
\item Can pull in source from Git as part of configuration
\item Easy to spawn/destroy (one command) locally
\item Only depends on reputable open source software
\item No language limits; can adapt to cloud, clusters
\end{itemize}
\end{frame}

% Establish details
\begin{frame}
\frametitle{Requires four open-source packages}
\begin{itemize}
\item (\textbf{Note:} Replace with graphics after this draft.)
\item Vagrant
\item Puppet (or Chef, or shell scripts)
\item VirtualBox
\item Git
\end{itemize}
\end{frame}

\begin{frame}
\frametitle{Vagrant spawns the VMs}
\begin{itemize}
\item \url{http://www.vagrantup.com/}
\item Download minimal machine image
\begin{itemize}
\item List of images on external sites: \url{http://www.vagrantbox.es/}
\item Create an image with VeeWee:
  \url{http://www.github.com/jedi4ever/veewee}
\item Create an image using instructions in Vagrant docs
\end{itemize}
\item Configure VM via text files, using:
\begin{itemize}
\item Puppet
\item Chef
\item Shell script  
\end{itemize}
\item Vagrantfile (like Makefile) specifies machine image, location of config files
\end{itemize}
\end{frame}

\begin{frame}
\frametitle{Puppet (Chef, shell script)\\
configures VMs}
\begin{itemize}
\item Puppet: \url{http://www.puppetlabs.com/}
\item Chef: \url{http://wiki.opscode.com/display/chef/home}
\item Text file specifying configuration
\begin{itemize}
\item Either shell script or domain specific language (DSL)
\item DSL-based files easy to read
\item Small, can version in Git
\item Can pull in software using Git, RubyGems, Pip, etc.
\end{itemize}
\end{itemize}
\end{frame}

\begin{frame}
\frametitle{VirtualBox runs VMs}
\begin{itemize}
\item \url{http://www.virtualbox.org/}
\item Supported by Oracle
\item Cross-platform: Linux, Windows, OS X
\item For large parallel jobs, replace Vagrant \& VirtualBox with:
\begin{itemize}
\item Amazon Web Services' CloudFormation
\item StarCluster
\end{itemize}
\end{itemize}
\end{frame}

\begin{frame}
\frametitle{Example: Update matrix exponential in SciPy}
\begin{itemize}
\item Source Git repo: \textbf{(add GitHub URL here)}
\item Environment Git repo: \textbf{(add GitHub URL here)}
\begin{itemize}
\item Vagrantfile to specify box to spawn
\item Configuration in Puppet
\item README with rections for running software
\end{itemize}
\item Run unit tests for reproducibility
\end{itemize}
\end{frame}

% Acknowledgments slide
\begin{frame}
\frametitle{Acknowledgments}
\begin{itemize}
\item Dr.\ Matt McNenly
\item Dr.\ Dan Flowers
\item Dr.\ David I.\ Ketcheson
\item Dr.\ Aron Ahmadia
\item US DOE
\item DOE CSGF
\item Gurpreet Singh, program manager for the DOE EERE Advanced
  Combustion Engine Program, for his continued support of the Advanced
  Combustion Numerics project at LLNL
\end{itemize}
\end{frame}

\begin{frame}
\end{frame}

\end{document}